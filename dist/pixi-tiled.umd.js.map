{"version":3,"file":"pixi-tiled.umd.js","sources":["../src/objects/TiledContainer.ts","../src/Config.ts","../src/objects/TiledAnimator.ts","../src/tools/TiledObjectType.ts","../src/objects/TiledPrimitives.ts","../src/tools/Utils.ts","../src/objects/TiledSprite.ts","../src/builders/ContainerBuilder.ts","../src/builders/SpriteBuilder.ts","../src/builders/TextBuilder.ts","../src/tools/TiledMultiSheet.ts","../src/tools/TilesetManagers.ts","../src/objects/TiledMapContainer.ts","../src/tools/TiledObjectParser.ts","../src/pixi-utils/ContainerExt.ts","../src/pixi-utils/DisplayExt.ts","../src/pixi-utils/EventEmitterExt.ts","../src/pixi-utils/index.ts","../src/layers/LayerBuilder.ts","../src/layers/ObjectsLayerBuilder.ts","../src/layers/TiledLayerBuilder.ts","../src/index.ts"],"sourcesContent":["import type { Text } from '@pixi/text';\nimport { Container } from '@pixi/display';\nimport type { ITiledPtimitive } from './TiledPrimitives';\nimport type { Rectangle } from '@pixi/math'\nimport type { IParsedProps, ITiledLayer, ITiledObject, ITiledFrame, ITiledMap } from './../ITiledMap';\n\nexport class TiledContainer extends Container {\n\tlayerHeight: number = 0;\n\tlayerWidth: number = 0;\n\ttext?: Text;\n\tprimitive?: ITiledPtimitive;\n\ttiledId?: number;\n\tproperties?: IParsedProps;\n\tlayers?: {[key: string]: Container};\n\tsource?: ITiledLayer | ITiledObject | ITiledMap;\n\ttileFrame?: ITiledFrame;\n\tname?: string;\n\ttypes?: string[];\n\thitArea?: Rectangle;\n}\n","import { Point } from \"@pixi/math\";\nimport { ILayerBuilder } from \"./layers/LayerBuilder\";\n\nexport interface ITiledProps {\n\tdefSpriteAnchor: Point;\n\tdebugContainers: boolean;\n\tusePixiDisplay: boolean;\n\troundFontAlpha: boolean;\n\tinjectMiddleware: boolean;\n\troundPixels: boolean;\n}\n\nexport const Config: ITiledProps = {\n\tdefSpriteAnchor: new Point(0, 1),\n\tdebugContainers: false,\n\tusePixiDisplay: false,\n\troundFontAlpha: false,\n\tinjectMiddleware: true,\n\troundPixels: true\n};\n\nexport const LayerBuildersMap: { [key: string]: ILayerBuilder | undefined } = {};\n","import { TiledSprite } from \"./TiledSprite\";\nimport { AnimatedSprite, FrameObject } from \"@pixi/sprite-animated\";\nimport { ITiledTile } from \"./../ITiledMap\";\n\nexport class TileAnimator {\n\tprivate _animator: AnimatedSprite;\n\tprivate _childs: Set<TiledSprite> = new Set();\n\tprivate _tile: ITiledTile;\n\n\tconstructor(tile: ITiledTile) {\n\n\t\tif(!tile.animation) {\n\t\t\tthrow new Error(\"Tile has not animation!\");\n\t\t}\n\n\t\tthis._tile = tile;\n\t\tthis._animator = new AnimatedSprite(<FrameObject[]> <any> tile.animation);\n\t\tthis._animator.onFrameChange = this.__onFrame.bind(this);\n\t}\n\n\t__onFrame() {\n\t\tthis._childs.forEach((e)=> e.texture = <any> this._animator.texture);\n\t}\n\n\tget anim() {\n\t\treturn this._animator;\n\t}\n\n\tadd(s: TiledSprite, strict = true) {\n\t\tif(!s) return;\n\n\t\t// prevent stack \n\t\tif(this._childs.has(s)) return;\n\t\t\n\t\ts.anim = this;\n\n\t\tif(s.tileFrame !== this._tile && strict) {\n\t\t\tthrow (`Invalid sprite! One Animator per tile type! Pased ${s.tileFrame!.id} should be ${this._tile.id}`);\n\t\t}\n\n\t\tthis._childs.add(s);\n\t}\n\n\tremove(s: TiledSprite) {\n\t\tthis._childs.delete(s);\n\t}\n}","export enum TiledObjectType {\n\tDEFAULT,\n\tPOINT,\n\tPOLYGON,\n\tPOLYLINE,\n\tELLIPSE,\n\tTEXT,\n\tIMAGE,\n}\n\n// https://doc.mapeditor.org/en/stable/reference/json-map-format/\n\nexport function Objectype(meta: any): TiledObjectType {\n\tif (meta.properties && meta.properties.container) return TiledObjectType.DEFAULT;\n\tif (meta.gid || meta.image) return TiledObjectType.IMAGE;\n\tif (meta.text != undefined) return TiledObjectType.TEXT;\n\tif (meta.point) return TiledObjectType.POINT;\n\tif (meta.polygon) return TiledObjectType.POLYGON;\n\tif (meta.polyline) return TiledObjectType.POLYLINE;\n\tif (meta.ellipse) return TiledObjectType.ELLIPSE;\n\n\treturn TiledObjectType.DEFAULT;\n}","import { Rectangle, Point, Polygon, Ellipse } from \"@pixi/math\";\nimport { ITiledObject } from \"./../ITiledMap\";\nimport { TiledObjectType, Objectype } from \"../tools/TiledObjectType\";\n\nexport interface ITiledPtimitive {\n\tname: string;\n\ttypes: Array<string>;\n\tvisible: boolean;\n}\n\nexport class TiledRect extends Rectangle implements ITiledPtimitive {\n\tname: string = \"\";\n\ttypes: string[] = [];\n\tvisible: boolean = true;\n}\n\nexport class TiledPoint extends Point implements ITiledPtimitive {\n\tname: string = \"\";\n\ttypes: string[] = [];\n\tvisible: boolean = true;\n\n\tconstructor(x?: number, y?: number) {\n\t\tsuper(x, y);\n\t}\n}\n\nexport class TiledPolygon extends Polygon implements ITiledPtimitive {\n\tname: string = \"\";\n\ttypes: string[] = [];\n\tvisible: boolean = true;\n\n\tprivate _x: number = 0;\n\tprivate _y: number = 0;\n\n\tconstructor(points: Point[]) {\n\t\tsuper(points);\n\t}\n\n\tset x(sX: number) {\n\t\tconst delta = sX - this._x;\n\t\tthis._x = sX;\n\n\t\tfor (let xIndex = 0; xIndex < this.points.length; xIndex += 2) {\n\t\t\tthis.points[xIndex] += delta;\n\t\t}\n\t}\n\n\tset y(sY: number) {\n\t\tconst delta = sY - this._y;\n\t\tthis._y = sY;\n\n\t\tfor (let yIndex = 1; yIndex < this.points.length; yIndex += 2) {\n\t\t\tthis.points[yIndex] += delta;\n\t\t}\n\t}\n\n\tget x(): number {\n\t\treturn this._x;\n\t}\n\n\tget y(): number {\n\t\treturn this._y;\n\t}\n\n\tgetBounds(): Rectangle {\n\t\tlet rect = new Rectangle();\n\n\t\tlet maxX: number = this._x;\n\t\tlet maxY: number = this._y;\n\n\t\tfor (let index = 0; index < this.points.length; index += 2) {\n\t\t\tconst px = this.points[index];\n\t\t\tconst py = this.points[index + 1];\n\n\t\t\trect.x = px < rect.x ? px : rect.x;\n\t\t\trect.y = py < rect.y ? py : rect.y;\n\n\t\t\tmaxX = px > maxX ? px : maxX;\n\t\t\tmaxY = py > maxY ? py : maxY;\n\t\t}\n\n\t\trect.width = maxX - rect.x;\n\t\trect.height = maxY - rect.y;\n\n\t\treturn rect;\n\t}\n\n\tget width(): number {\n\t\treturn this.getBounds().width;\n\t}\n\n\tget height(): number {\n\t\treturn this.getBounds().height;\n\t}\n\n\tset height(h: number) {\n\t\tconst factor = h / this.height;\n\n\t\tfor (let yIndex = 1; yIndex < this.points.length; yIndex += 2) {\n\t\t\tconst delta = (this.points[yIndex] - this._y) * factor;\n\t\t\tthis.points[yIndex] = this._y + delta;\n\t\t}\n\t}\n\n\tset width(w: number) {\n\t\tconst factor = w / this.width;\n\n\t\tfor (let xIndex = 0; xIndex < this.points.length; xIndex += 2) {\n\t\t\tconst delta = (this.points[xIndex] - this._x) * factor;\n\t\t\tthis.points[xIndex] = this._x + delta;\n\t\t}\n\t}\n}\n\nexport class TiledPolypine implements ITiledPtimitive {\n\tname: string = \"\";\n\ttypes: string[] = [];\n\tvisible: boolean = true;\n\n\tpoints: Array<Point> = [];\n\n\tconstructor(points: Array<Point>) {\n\t\tthis.points = points.slice();\n\t}\n}\n\nexport class TiledEllipse extends Ellipse implements ITiledPtimitive {\n\tname: string = \"\";\n\ttypes: string[] = [];\n\tvisible: boolean = true;\n\n\tconstructor(x?: number, y?: number, hw?: number, hh?: number) {\n\t\tsuper(x, y, hw, hh);\n\t}\n}\n\nexport function BuildPrimitive( meta: ITiledObject ): ITiledPtimitive | undefined {\n\t\n\tif (!meta) {\n\t\treturn;\n\t}\n\n\tlet prim: ITiledPtimitive | undefined = undefined;\n\n\tconst type: TiledObjectType = Objectype(meta);\n\n\tmeta.x = meta.x || 0;\n\tmeta.y = meta.y || 0;\n\n\tswitch (type) {\n\t\tcase TiledObjectType.ELLIPSE: {\n\t\t\tprim = new TiledEllipse(\n\t\t\t\tmeta.x + 0.5 * meta.width,\n\t\t\t\tmeta.y + 0.5 * meta.height,\n\t\t\t\tmeta.width * 0.5,\n\t\t\t\tmeta.height * 0.5\n\t\t\t);\n\t\t\tbreak;\n\t\t}\n\t\tcase TiledObjectType.POLYGON: {\n\t\t\tconst points = meta.polygon!;\n\t\t\tconst poses = points.map(p => {\n\t\t\t\treturn new Point(p.x + meta.x, p.y + meta.y);\n\t\t\t});\n\t\t\t\n\t\t\tprim = new TiledPolygon(poses);\n\t\t\tbreak;\n\t\t}\n\t\tcase TiledObjectType.POLYLINE: {\n\t\t\tconst points = meta.polyline!;\n\t\t\tconst poses = points.map(p => {\n\t\t\t\treturn new Point(p.x + meta.x, p.y + meta.y);\n\t\t\t});\n\n\t\t\tprim = new TiledPolypine(poses);\n\t\t\tbreak;\n\t\t}\n\t\tdefault:\n\t\t\tprim = new TiledRect(meta.x, meta.y, meta.width, meta.height);\n\t}\n\n\tprim.types = meta.type ? meta.type.split(\":\") : [];\n\tprim.visible = meta.visible;\n\tprim.name = meta.name;\n\t\n\treturn prim;\n}\n","import {\n\tITiledTileset,\n\tITiledMap,\n\tIParsedProps,\n\tITiledLayer,\n\tITiledObject,\n\tITiledSprite,\n\tITiledTile\n} from '../ITiledMap';\n\nimport { Sprite } from '@pixi/sprite';\nimport { Graphics } from '@pixi/graphics';\nimport { Config } from '../Config';\nimport { BuildPrimitive } from './../objects/TiledPrimitives';\nimport { TiledContainer } from './../objects/TiledContainer';\n\nexport function HexStringToHexInt(value: string | number): number {\n\tif (!value) return 0;\n\n\tif (typeof value == 'number') return value;\n\n\tvalue = value.length > 7 ? value.substr(3, 6) : value.substr(1, 6);\n\n\ttry {\n\t\treturn parseInt(value, 16);\n\t} catch (e: any) {\n\t\tconsole.warn('Color parse error:', e.message);\n\t\treturn 0;\n\t}\n}\n\nexport function HexStringToAlpha(value: string | number): number {\n\tif (!value) return 1;\n\tif (typeof value == 'number') return value;\n\n\tif (value.length <= 7) return 1;\n\n\ttry {\n\t\treturn parseInt(value.substr(1, 2), 16) / 255.0;\n\t} catch (e: any) {\n\t\tconsole.warn('Alpha parse error:', e.message);\n\t\treturn 1;\n\t}\n}\n\nexport function resolveTile(tilesets: ITiledTileset[], gid: number) {\n\tlet tileSet = undefined; //_data.tilesets[0];\n\tlet tilesetId = 0;\n\n\tfor (let i = 0; i < tilesets.length; i++) {\n\t\tif (tilesets[i].firstgid <= gid) {\n\t\t\ttileSet = tilesets[i];\n\t\t\ttilesetId = i;\n\t\t}\n\t}\n\n\tif (!tileSet) {\n\t\tconsole.error('Image with gid:' + gid + ' not found!');\n\t\treturn null;\n\t}\n\n\tconst realGid = gid - tileSet.firstgid;\n\n\tlet find = undefined;\n\tif (tileSet.tiles !== undefined)\n\t{\n\t\tfind = tileSet.tiles!.filter(obj => obj.id == realGid)[0];\n\t}\n\tif (find === undefined)\n\t{\n\t\tfind = {id: realGid} as ITiledTile;\n\t}\n\n\tlet img = Object.assign({}, find, { tilesetId });\n\n\tif (!img) {\n\t\tconsole.error('Load res MISSED gid:' + realGid);\n\t\treturn null;\n\t}\n\n\treturn img;\n}\n\nexport function _prepareProperties(layer: ITiledMap | ITiledLayer | ITiledObject) {\n\tlet props: IParsedProps = {};\n\n\tif (layer.properties) {\n\t\tif (layer.properties instanceof Array) {\n\t\t\tfor (var p of layer.properties) {\n\t\t\t\tlet val = p.value;\n\t\t\t\tif (p.type == 'color') {\n\t\t\t\t\tval = HexStringToHexInt(val as string);\n\t\t\t\t}\n\t\t\t\tprops[p.name] = val;\n\t\t\t}\n\t\t} else {\n\t\t\t// old tiled format\n\t\t\tprops = layer.properties;\n\t\t}\n\t}\n\n\tconst spriteObject = layer as ITiledSprite;\n\n\t// http://doc.mapeditor.org/en/stable/reference/tmx-map-format/#tile-flipping\n\tif (spriteObject.gid > 0) {\n\t\tconst gid = spriteObject.gid;\n\n\t\tconst vFlip = !!(gid & 0x40000000);\n\t\tconst hFlip = !!(gid & 0x80000000);\n\t\tconst dFlip = !!(gid & 0x20000000);\n\n\t\tprops['vFlip'] = vFlip;\n\t\tprops['hFlip'] = hFlip;\n\t\tprops['dFlip'] = dFlip;\n\n\t\tspriteObject.vFlip = vFlip;\n\t\tspriteObject.hFlip = hFlip;\n\n\t\tconst realGid = gid & ~(0x40000000 | 0x80000000 | 0x20000000);\n\t\tspriteObject.gid = realGid;\n\t}\n\n\tlayer.parsedProps = props;\n}\n\nexport function ApplyMeta(meta: ITiledObject | ITiledLayer, target: TiledContainer) {\n\ttarget.name = meta.name;\n\ttarget.tiledId = meta.id;\n\ttarget.width = meta.width || target.width;\n\ttarget.height = meta.height || target.height;\n\ttarget.rotation = (((meta as ITiledObject).rotation || 0) * Math.PI) / 180.0;\n\n\ttarget.x = (meta.x || 0) + ((meta as ITiledLayer).offsetx || 0);\n\ttarget.y = (meta.y || 0) + ((meta as ITiledLayer).offsety || 0);\n\n\ttarget.visible = meta.visible == undefined ? true : meta.visible;\n\ttarget.types = meta.type ? meta.type.split(\":\") : [];\n\n\ttarget.primitive = BuildPrimitive(meta as ITiledObject);\n\n\tconst props = meta.parsedProps;\n\n\tif (props) {\n\t\tif (!isNaN(props.opacity as number)) {\n\t\t\ttarget.alpha = Number(props.opacity);\n\t\t}\n\n\t\t//@ts-ignore\n\t\tObject.assign(target, props);\n\n\t\ttarget.properties = props;\n\t}\n\n\ttarget.source = meta;\n\n\tif (Config.debugContainers) {\n\t\tsetTimeout(() => {\n\t\t\tconst rect = new Graphics();\n\n\t\t\trect.lineStyle(2, 0xff0000, 0.7)\n\t\t\t\t.drawRect(target.x, target.y, meta.width, meta.height)\n\t\t\t\t.endFill();\n\t\t\tif (target instanceof Sprite) {\n\t\t\t\trect.y -= target.height;\n\t\t\t}\n\n\t\t\ttarget.parent.addChild<any>(rect);\n\t\t}, 30);\n\t}\n}","import { Sprite } from '@pixi/sprite';\nimport { ITiledTile, ITiledSprite, ITiledObjectLayer } from './../ITiledMap';\nimport { TileAnimator } from './TiledAnimator';\nimport { Config } from './../Config';\nimport { BuildPrimitive } from './TiledPrimitives';\nimport { ITiledPtimitive } from './TiledPrimitives';\nimport { ApplyMeta } from '../tools/Utils';\n\nexport class TiledSprite extends Sprite {\n\tpublic tileFrame?: ITiledTile;\n\tpublic source?: ITiledSprite;\n\tpublic primitives: ITiledPtimitive[] = [];\n\tpublic properties: Record<string, any> = {};\n\t\n\tprivate _animator?: TileAnimator;\n\n\tconstructor(source: ITiledSprite, createAnimator = false, autoInit = true) {\n\t\tsuper(source.image!.texture);\n\n\t\tthis.source = source;\n\t\tthis.tileFrame = source.image!;\n\n\t\tif (createAnimator && this.tileFrame.animation) {\n\t\t\tthis.anim = new TileAnimator(this.tileFrame!);\n\t\t}\n\n\t\tif(autoInit) {\n\t\t\tthis.init();\n\t\t}\n\t}\n\n\tinit() {\n\t\tApplyMeta(this.source!, this as any);\n\n\t\tif (this.anim) {\n\t\t\tconst a = this.anim.anim;\n\n\t\t\tthis.properties!.animPlaying && a.play();\n\t\t\ta.loop = this.properties!.animLoop !== undefined ? !!this.properties!.animLoop : true;\n\t\t}\n\n\t\t//TODO Set anchor and offsets to center (.5, .5)\n\t\tif (this.source!.gid) {\n\t\t\tthis.anchor.copyFrom( (this.source!.anchor ||  Config.defSpriteAnchor) as any);\n\t\t}\n\n\t\tconst obj = this.tileFrame!.objectgroup as ITiledObjectLayer;\n\n\t\tif (obj) {\n\t\t\tthis.primitives = obj.objects.map(e => BuildPrimitive(e)!);\n\t\t}\n\n\t\tconst hFlip = this.source!.hFlip;\n\t\tconst vFlip = this.source!.vFlip;\n\n\t\tif (hFlip) {\n\t\t\tthis.scale.x *= -1;\n\t\t\tthis.anchor.x = 1;\n\t\t}\n\n\t\tif (vFlip) {\n\t\t\tthis.scale.y *= -1;\n\t\t\tthis.anchor.y = 0;\n\t\t}\n\t}\n\n\tset anim(anim: TileAnimator | undefined) {\n\t\tif (anim === this._animator) return;\n\n\t\tif (this._animator) {\n\t\t\tthis._animator.remove(this);\n\t\t}\n\t\tthis._animator = anim;\n\n\t\tanim && anim.add(this);\n\t}\n\n\tget anim() {\n\t\treturn this._animator;\n\t}\n\n\tclone() {\n\t\tconst sprite = new TiledSprite(this.source!, true);\n\t\tsprite.init();\n\n\t\treturn sprite;\n\t}\n}\n","import { TiledContainer } from \"./../objects/TiledContainer\";\nimport { Config } from \"../Config\";\nimport { Rectangle } from \"@pixi/math\";\nimport { Texture } from \"@pixi/core\";\n\nimport { ITiledObject, ITiledSprite } from \"../ITiledMap\";\nimport { TiledSprite } from \"./../objects/TiledSprite\";\nimport { ApplyMeta } from \"../tools/Utils\";\n\nexport function Build(meta: ITiledObject): TiledContainer | TiledSprite {\n\tconst types: Array<string> = meta.type ? meta.type.split(\":\") : [];\n\n\tlet container = undefined; // new TiledOG.TiledContainer();\n\n\tif (types.indexOf(\"mask\") > -1) {\n\t\tconst source = {\n\t\t\timage: {\n\t\t\t\ttexture: Texture.WHITE,\n\t\t\t\tid: - 1,\n\t\t\t},\n\t\t\tfromImageLayer: true\n\t\t} as ITiledSprite\n\t\tcontainer = new TiledSprite(source);\n\t} else {\n\t\tcontainer = new TiledContainer();\n\t\tApplyMeta(meta, container as TiledContainer);\n\t}\n\n\tif (meta.gid) {\n\t\tcontainer.pivot = Config.defSpriteAnchor as any;\n\t\t(<TiledContainer> container).hitArea = new Rectangle(0, 0, meta.width, meta.height);\n\t}\n\n\treturn container;\n}\n","\nimport { Sprite } from \"@pixi/sprite\";\nimport { ITiledSprite } from \"../ITiledMap\";\nimport { TiledSprite } from \"./../objects/TiledSprite\";\n\nexport function Build(meta: ITiledSprite): TiledSprite {\n\t// legacy\n\tconst sprite = new TiledSprite(meta, true);\n\n\treturn sprite;\n}\n","import { TiledContainer } from \"./../objects/TiledContainer\";\nimport { Text, TextStyle } from \"@pixi/text\";\nimport { Config } from \"../Config\";\nimport * as Utils from \"../tools/Utils\";\nimport { ITiledObject } from \"../ITiledMap\";\nimport { ApplyMeta } from \"../tools/Utils\";\n\nexport function Build(meta: ITiledObject): TiledContainer {\n\tconst container = new TiledContainer();\n\tconst text = meta.text!;\n\n\tlet pixiText = new Text(text.text, {\n\t\twordWrap: text.wrap,\n\t\twordWrapWidth: meta.width,\n\t\tfill: Utils.HexStringToHexInt(text.color || \"#000000\") || 0x000000,\n\t\talign: text.valign || \"top\",\n\t\tfontFamily: text.fontfamily || \"sans-serif\",\n\t\tfontWeight: text.bold ? \"bold\" : \"normal\",\n\t\tfontStyle: text.italic ? \"italic\" : \"normal\",\n\t\tfontSize: text.pixelsize || \"16px\"\n\t} as TextStyle);\n\n\t//@ts-ignore\n\tpixiText.name = meta.name + \"_Text\";\n\n\tpixiText.roundPixels = !!Config.roundFontAlpha;\n\n\tconst props = meta.parsedProps;\n\n\t// clear properties\n\tmeta.properties = [];\n\tmeta.parsedProps = {};\n\n\tApplyMeta(meta, container);\n\tcontainer.pivot.set(0, 0);\n\n\tswitch (text.halign) {\n\t\tcase \"right\":\n\t\t\t{\n\t\t\t\tpixiText.anchor.x = 1;\n\t\t\t\tpixiText.position.x = meta.width;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"center\":\n\t\t\t{\n\t\t\t\tpixiText.anchor.x = 0.5;\n\t\t\t\tpixiText.position.x = meta.width * 0.5;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t{\n\t\t\t\tpixiText.anchor.x = 0;\n\t\t\t\tpixiText.position.x = 0;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\tswitch (text.valign) {\n\t\tcase \"bottom\":\n\t\t\t{\n\t\t\t\tpixiText.anchor.y = 1;\n\t\t\t\tpixiText.position.y = meta.height;\n\t\t\t}\n\t\t\tbreak;\n\t\tcase \"center\":\n\t\t\t{\n\t\t\t\tpixiText.anchor.y = 0.5;\n\t\t\t\tpixiText.position.y = meta.height * 0.5;\n\t\t\t}\n\t\t\tbreak;\n\t\tdefault:\n\t\t\t{\n\t\t\t\tpixiText.anchor.y = 0;\n\t\t\t\tpixiText.position.y = 0;\n\t\t\t}\n\t\t\tbreak;\n\t}\n\n\tif (props) {\n\t\tpixiText.style.stroke =\n\t\t\tUtils.HexStringToHexInt(props.strokeColor as string) || 0;\n\n\t\tpixiText.style.strokeThickness = +props.strokeThickness || 0;\n\t\tpixiText.style.padding = +props.fontPadding || 0;\n\n\t\tObject.assign(pixiText, props);\n\t}\n\n\t//_cont.parentGroup = _layer.group;\n\tcontainer.addChild(<any> pixiText);\n\n\t//@ts-ignore\n\tcontainer.text = pixiText;\n\n\tcontainer.properties = props;\n\n\treturn container;\n}","import type { Texture } from \"@pixi/core\";\nimport type { Spritesheet } from \"@pixi/spritesheet\";\n\nexport class MultiSpritesheet {\n\tsheets: Array<Spritesheet | MultiSpritesheet> = [];\n\timages: { [name: string]: Texture<any> } = {};\n\n\tconstructor(sheets?: Spritesheet[]) {\n\t\tif (sheets) {\n\t\t\tsheets.forEach(element => {\n\t\t\t\tthis.add(element);\n\t\t\t});\n\t\t}\n\t}\n\n\tadd(sheet?: Spritesheet | MultiSpritesheet) {\n\t\tif (!sheet) throw \"Sheet can't be undefined\";\n\t\tif (sheet === this) throw \"U can't add self to spritesheet\";\n\n\t\tthis.sheets.push(sheet);\n\t}\n\n\taddTexture(tex: Texture, id: string) {\n\t\tthis.images[id] = tex;\n\t}\n\n\tget textures(): { [name: string]: Texture<any> } {\n\t\tlet map: { [name: string]: Texture<any> } = {};\n\n\t\tfor (const spr of this.sheets) {\n\t\t\tObject.assign(map, spr.textures);\n\t\t}\n\n\t\tObject.assign(map, this.images);\n\n\t\treturn map;\n\t}\n\n\tget animations(): { [name: string]: Texture[] } {\n\t\tlet map: { [name: string]: Texture[] } = {};\n\n\t\tfor (const spr of this.sheets) {\n\t\t\t// can be looped\n\t\t\tObject.assign(map, spr.animations);\n\t\t}\n\n\t\treturn map;\n\t}\n}\n","import { ITiledTileset, ITiledTile } from '../ITiledMap';\nimport { MultiSpritesheet } from './TiledMultiSheet';\nimport { resolveTile } from './Utils';\n\nimport { Spritesheet } from '@pixi/spritesheet';\nimport { Rectangle } from '@pixi/math';\nimport { Texture, BaseTexture, ImageResource } from '@pixi/core';\nimport { EventEmitter } from '@pixi/utils';\n\nexport class TilesetManager extends EventEmitter {\n\tprivate _sheet: MultiSpritesheet = new MultiSpritesheet();\n\tprivate _loadQueue: number = 0;\n\n\t/**\n\t * @description Base url for all images\n\t */\n\tpublic baseUrl: string = '';\n\n\t/**\n\t * @description Preload images which not exist in spritesheet\n\t */\n\tpublic loadUnknowImages: boolean = true;\n\n\tconstructor(private _tileSets: ITiledTileset[], sheet?: MultiSpritesheet | Spritesheet | Record<string, Texture<any>>) {\n\t\tsuper();\n\n\t\tif (sheet) {\n\t\t\tif (sheet!.textures) {\n\t\t\t\tthis.register(sheet as MultiSpritesheet);\n\t\t\t} else {\n\t\t\t\tObject.keys(sheet).forEach(e => {\n\t\t\t\t\tthis._sheet.addTexture((sheet as Record<string, Texture>)[e], e);\n\t\t\t\t});\n\t\t\t}\n\t\t}\n\t}\n\n\tregister(spritesheet: MultiSpritesheet | Spritesheet) {\n\t\tthis._sheet.add(spritesheet);\n\t}\n\n\tget spritesheet() {\n\t\treturn this._sheet;\n\t}\n\n\tgetTileByGid(gid: number, tryLoad = this.loadUnknowImages): ITiledTile | undefined {\n\t\tconst tile = resolveTile(this._tileSets, gid);\n\t\treturn this.getTileByTile(tile, tryLoad);\n\t}\n\n\tgetTileByTile(tile: ITiledTile | null, tryLoad = this.loadUnknowImages, skipAnim = false) {\n\t\tif (!tile) {\n\t\t\treturn undefined;\n\t\t}\n\t\tconst set = this._tileSets[tile.tilesetId!];\n\n\t\tif(!tile.image && set.image) {\n\t\t\ttile.fromSheet = true;\n\t\t\ttile.image = set.image;\n\t\t}\n\n\t\tif(!tile.image) {\n\t\t\treturn undefined;\n\t\t};\n\n\t\tif (tile.animation && !skipAnim) {\n\t\t\ttile.animation.forEach(e => {\n\t\t\t\tconst atile = set.tiles!.filter(obj => obj.id == e.tileid)[0];\n\t\t\t\tatile.tilesetId = tile.tilesetId;\n\t\t\t\te.texture = this.getTileByTile(atile, tryLoad, true)!.texture;\n\t\t\t\te.time = e.duration;\n\t\t\t});\n\t\t}\n\n\t\tlet texture = this.spritesheet.textures[tile.image];\n\n\t\ttile.lazyLoad = !(texture != undefined && texture.valid);\n\n\t\tconst absUrl = this._relativeToAbsolutePath(this.baseUrl, tile.image!);\n\t\t//Texture not found by relative path\n\t\tif (!texture) {\n\t\t\t//Try to find by absolute path\n\t\t\ttexture = this.spritesheet.textures[absUrl];\n\t\t}\n\n\t\tif (!texture && tryLoad) {\n\t\t\ttexture = this._tryLoadTexture(absUrl, tile);\n\n\t\t\ttile.lazyLoad = true;\n\n\t\t\tthis._sheet.addTexture(texture, tile.image);\n\t\t}\n\n\t\tif(texture && tile.fromSheet) {\n\t\t\ttexture = this._cropTile(set, tile, texture);\n\t\t}\n\n\t\ttile.texture = texture;\n\t\treturn tile;\n\t}\n\n\tgetTileSetByGid(gid: number): ITiledTileset | undefined {\n\t\tconst frame = resolveTile(this._tileSets, gid);\n\t\t\n\t\tif(!frame) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\treturn this._tileSets[frame!.tilesetId];\n\t}\n\n\t_relativeToAbsolutePath(base: String, relative: String) {\n\t\tvar stack = base.split(\"/\"),\n\t\t\t\tparts = relative.split(\"/\");\n\t\tstack.pop();\n\t\tfor (var i=0; i<parts.length; i++) {\n\t\t\t\tif (parts[i] == \".\")\n\t\t\t\t\t\tcontinue;\n\t\t\t\tif (parts[i] == \"..\")\n\t\t\t\t\t\tstack.pop();\n\t\t\t\telse\n\t\t\t\t\t\tstack.push(parts[i]);\n\t\t}\n\n\t\t//Remove trailing dot\n\t\tif (stack[0] == '.')\n\t\t{\n\t\t\tstack.shift();\n\t\t}\n\t\t\n\t\treturn stack.join(\"/\");\n\t}\n\n\t_cropTile(set: ITiledTileset, tile: ITiledTile, texture: Texture) {\n\t\t\n\t\tconst colls = set.columns!;\n\t\tconst rows = set.tilecount! / colls;\n\t\tconst margin = set.margin! || 0;\n\t\tconst space = set.spacing! || 0;\n\t\tconst xId = tile.id % colls;\n\t\tconst yId = tile.id / colls | 0;\n\n\t\ttexture = new Texture(texture.baseTexture, new Rectangle(\n\t\t\ttexture._frame.x + margin + xId * (set.tilewidth! + space),\n\t\t\ttexture._frame.y + margin + yId * (set.tileheight! + space),\n\t\t\tset.tilewidth, set.tileheight\n\t\t));\n\n\t\tthis._sheet.addTexture(texture, `${tile.image}_${tile.tilesetId}:${tile.id}`);\n\n\t\treturn texture;\n\t}\n\n\t_tryLoadTexture(url: string, tile: ITiledTile) {\n\t\t// @ts-ignore\n\t\tconst res = new ImageResource(url, {\n\t\t\tautoLoad: false,\n\t\t\tcrossorigin: 'anonymous',\n\t\t});\n\n\t\tconst texture = new Texture(new BaseTexture(res));\n\t\tTexture.addToCache(texture, url);\n\n\t\tthis._loadQueue++;\n\n\t\tres.load()\n\t\t\t.then(() => {\n\t\t\t\ttexture.emit('loaded');\n\t\t\t})\n\t\t\t.catch((e: any)=>{\n\t\t\t\tconsole.warn(`Tile set image loading error!`,tile);\n\t\t\t})\n\t\t\t.finally(() => {\n\t\t\t\tthis._loadQueue--;\n\t\t\t\tif (this._loadQueue === 0) {\n\t\t\t\t\tthis.emit('loaded');\n\t\t\t\t}\n\t\t\t});\n\n\t\treturn texture;\n\t}\n\n\tget loaded() {\n\t\treturn this._loadQueue <= 0;\n\t}\n}\n","import { TiledContainer } from \"./TiledContainer\";\nimport { TilesetManager } from \"../tools/TilesetManagers\";\n\nexport class TiledMapContainer extends TiledContainer {\n\tpublic tileSet?: TilesetManager;\n}","import { Spritesheet } from '@pixi/spritesheet';\nimport { TiledContainer } from '../objects/TiledContainer';\nimport { Config, LayerBuildersMap } from '../Config';\n\nimport { MultiSpritesheet } from './TiledMultiSheet';\nimport { ITiledMap } from '../ITiledMap';\nimport { TilesetManager } from './TilesetManagers';\nimport { TiledMapContainer } from '../objects/TiledMapContainer';\nimport { EventEmitter } from '@pixi/utils';\nimport { utils, ExtensionType, extensions } from '@pixi/core';\nimport { LoaderParserPriority, LoadAsset, LoaderParser, AssetExtension, Assets } from '@pixi/assets';\n\n//inject new field in resources\ndeclare module GlobalMixins {\n\texport interface ILoaderResource {\n\t\tstage?: TiledContainer;\n\t}\n}\n\ntype tValidSheet = Spritesheet | MultiSpritesheet;\nlet showHello: boolean = true;\n\nlet TilesetCache: { [index: string]: any } = {};\n\nexport function CreateStage(\n\tsheet: tValidSheet | undefined,\n\t_data: ITiledMap,\n): TiledMapContainer | undefined {\n\n\tif (showHello) {\n\t\tconsole.log('[TILED] Importer!\\neXponenta {rondo.devil[a]gmail.com}');\n\t\tshowHello = false;\n\t}\n\n\tconst useDisplay: boolean = false;\n\tconst stage = new TiledMapContainer();\n\n\tstage.layerHeight = _data.height;\n\tstage.layerWidth = _data.width;\n\tstage.source = _data;\n\n\tstage.tileSet = new TilesetManager(_data.tilesets, sheet);\n\tstage.tileSet.baseUrl = _data.baseUrl;\n\n\tif (_data.layers) {\n\t\tlet zOrder = 0; //_data.layers.length;\n\n\t\tif (useDisplay) {\n\t\t\t_data.layers = _data.layers.reverse();\n\t\t}\n\n\t\tfor (let layer of _data.layers) {\n\t\t\tconst builder = LayerBuildersMap[layer.type];\n\n\t\t\tif (!builder) {\n\t\t\t\tconsole.warn(`[TILED] Importer can't support ${layer.type} layer type!`);\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tconst pixiLayer = builder.Build(layer, stage.tileSet, zOrder, stage);\n\n\t\t\tif (!pixiLayer) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tzOrder++;\n\t\t\tstage.layers = {\n\t\t\t\t[layer.name]: pixiLayer,\n\t\t\t};\n\n\t\t\tstage.addChild(pixiLayer);\n\t\t}\n\t}\n\treturn stage;\n}\nconst cropName = new RegExp(/^.*[\\\\\\/]/);\n\nconst TiledMapAsset = {\n\textension: ExtensionType.Asset,\n\tdetection: {\n\t\ttest: async() =>  { return true;},\n\t\tadd: async (formats:any) => { return [...formats, \"json\"]; },\n\t\tremove: async (formats:any) => { return formats.filter((ext:any) => ext == \"json\")}\n\t},\n\tloader: {\n\t\textension: {\n\t\t\ttype: ExtensionType.LoadParser,\n\t\t\tpriority: LoaderParserPriority.Low\n\t\t},\n\t\ttestParse(asset: any, loadAsset?: LoadAsset): Promise<boolean>\n\t\t{\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tif (asset && asset.type == 'map')\n\t\t\t\t{\n\t\t\t\t\tresolve(true);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tresolve(false);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tparse(map: ITiledMap, loadedAsset: any): Promise<ITiledMap>\n\t\t{\n\t\t\treturn new Promise((resolve, reject) => {\n\t\t\t\tlet baseUrl = loadedAsset.src.replace((this as any).baseUrl, '');\n\t\t\t\tbaseUrl = baseUrl.match(cropName)![0];\n\t\t\t\tmap.baseUrl = baseUrl;\n\n\t\t\t\tconst tilesetsToLoad = [];\n\t\t\t\tfor (let  tilesetIndex = 0; tilesetIndex < map.tilesets.length; tilesetIndex++)\n\t\t\t\t{\n\t\t\t\t\tconst tileset = map.tilesets[tilesetIndex];\n\t\t\t\t\tif (tileset.source !== undefined)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet cachedTileset = TilesetCache[tileset.source];\n\t\t\t\t\t\tif (cachedTileset)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tmap.tilesets[tilesetIndex] = cachedTileset;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\ttilesetsToLoad.push(tileset);\n\t\t\t\t\t\t\tTilesetCache[tileset.source] = tileset;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (tilesetsToLoad.length == 0)\n\t\t\t\t{\n\t\t\t\t\tresolve(map as ITiledMap);\n\t\t\t\t}\n\t\t\t\telse\n\t\t\t\t{\n\t\t\t\t\tlet  tilesetsList = [];\n\t\t\t\t\tfor (let tilesetIndex = 0; tilesetIndex < tilesetsToLoad.length; tilesetIndex++)\n\t\t\t\t\t{\n\t\t\t\t\t\tlet tileset = tilesetsToLoad[tilesetIndex];\n\t\t\t\t\t\tif (tileset.source !== undefined)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tlet name = utils.path.basename(tileset.source);\n\t\t\t\t\t\t\ttilesetsList.push(name);\n\t\t\t\t\t\t\tAssets.add(name, baseUrl + tilesetsToLoad[tilesetIndex].source);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tAssets.load(tilesetsList).then((resources)=>{\n\t\t\t\t\t\tObject.keys(resources).forEach(resourcePath => {\n\t\t\t\t\t\t\tlet tilesetResource = resources[resourcePath];\n\t\t\t\t\t\t\tlet resourceFileName =  resourcePath.replace(cropName, '');\n\t\t\t\t\t\t\tfor (let  tilesetIndex = 0; tilesetIndex < map.tilesets.length; tilesetIndex++)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tconst tileset = map.tilesets[tilesetIndex];\n\t\t\t\t\t\t\t\tif (tileset.source === resourceFileName)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tObject.assign(tileset, tilesetResource);\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\tresolve(map as ITiledMap);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t} as LoaderParser<ITiledMap>\n} as AssetExtension;\n\nextensions.add(TiledMapAsset);\n\nexport { TiledMapAsset };\n","import { DisplayObject, Container } from \"@pixi/display\";\nimport { Matrix } from \"@pixi/math\";\n\n\nexport default function (container: typeof Container) {\n\n\tif (!container)\n\t\tthrow new Error(\"Cant't find Container in package!\");\n\n\t/**\n\t * @mixes\n\t * MIXIN FROM pixiv5-tiled\n\t * Get child by path\n\t */\n\n\tObject.assign(container.prototype,\n\t\t{\n\t\t\tgetChildByPath: function <T extends DisplayObject>(path: string) {\n\t\t\t\tconst _this = <Container> <any> this;\n\t\t\t\t\n\t\t\t\tif (!_this.children || _this.children.length == 0)\n\t\t\t\t\treturn undefined;\n\n\t\t\t\tlet result: DisplayObject | undefined = _this;\n\n\t\t\t\tconst split = path.split(\"/\");\n\t\t\t\tconst isIndex = new RegExp(\"(?:{{0})-?d+(?=})\");\n\n\t\t\t\tfor (const p of split) {\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tif (result == undefined || !(result.children)) {\n\t\t\t\t\t\tresult = undefined;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (p.trim().length == 0) continue;\n\n\t\t\t\t\t// find by index\n\t\t\t\t\t//@ts-ignore\n\t\t\t\t\tconst ch = result.children;\n\t\t\t\t\tconst mathes = p.match(isIndex);\n\t\t\t\t\tif (mathes) {\n\t\t\t\t\t\tlet index = parseInt(mathes[0]);\n\t\t\t\t\t\tif (index < 0) {\n\t\t\t\t\t\t\tindex += ch.length;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tif (index >= ch.length) {\n\t\t\t\t\t\t\tresult = undefined;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult = ch[index];\n\t\t\t\t\t\t}\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\t//default by name\n\t\t\t\t\tresult = (result as any).getChildByName(p);\n\t\t\t\t}\n\n\t\t\t\treturn result as T;\n\t\t\t},\n\n\t\t\taddGlobalChild: function (...child: DisplayObject[]) {\n\t\t\t\tconst _this = <Container> <any> this;\n\t\t\t\t//TODO: better to convert global position to current matrix\n\t\t\t\t_this.transform.updateLocalTransform();\n\t\t\t\t\n\t\t\t\tconst loc = new Matrix();\n\t\t\t\tconst invert = _this.transform.localTransform.clone().invert();\n\t\t\t\t\n\t\t\t\tfor (let i = 0; i < child.length; i++) {\n\n\t\t\t\t\tconst newChild = child[i];\n\t\t\t\t\tnewChild.transform.updateLocalTransform();\n\t\t\t\t\tloc.copyFrom(invert);\n\t\t\t\t\tloc.append(newChild.localTransform);\n\t\t\t\t\tchild[i].transform.setFromMatrix(loc);\n\t\t\t\t}\n\n\t\t\t\treturn _this.addChild(...child);\n\n\t\t\t}\n\t\t});\n}\n","import { DisplayObject } from '@pixi/display';\n\nexport default function(displayObject: typeof DisplayObject) {\n\n\tif(!displayObject)\n\t\tthrow new Error(\"Cant't find DisplayObject in package!\");\n\t\n\t(<any>displayObject.prototype).replaceWithTransform = function(from: any) {\n        from.updateTransform();\n\n        if(from.parent){\n\t\t\tfrom.parent.addChildAt(this, from.parent.getChildIndex(from));\n\t\t}\n\n\t\tthis.pivot.copyFrom(from.pivot);        \n        this.position.copyFrom(from.position);\n\t\tthis.scale.copyFrom(from.scale);\n\t\tthis.rotation = from.rotation;\n\n        this.updateTransform();\n    }\n}","import { EventEmitter } from '@pixi/utils';\n\nexport default function(eventEmitter: typeof EventEmitter) {\n\tif(!eventEmitter)\n\t\tthrow new Error(\"Cant't find utils in package!\");\n\n    (<any> eventEmitter.prototype).onceAsync = function(event: string, context? : any) : Promise<any> {\n        return new Promise((res)=>{\n            this.once(event, res, context);\n        })\n    }\n}","import { DisplayObject, Container } from '@pixi/display';\nimport { EventEmitter } from '@pixi/utils';\n\n\nimport container from \"./ContainerExt\";\nimport display from \"./DisplayExt\";\nimport emitter from \"./EventEmitterExt\";\n \nexport function InjectMixins(pixiPackage? : any) {\n    if (pixiPackage) {\n        console.log('Deprication. Mixins attached automatically')\n    }\n\n    container(Container);\n    display(DisplayObject);\n    emitter(EventEmitter);\n}\n","import { ITiledLayer } from '../ITiledMap';\nimport { _prepareProperties, ApplyMeta } from '../tools/Utils';\nimport { TiledContainer} from './../objects/TiledContainer';\nimport { TilesetManager } from '../tools/TilesetManagers';\n\nexport interface ILayerBuilder {\n\tBuild(meta: ITiledLayer, tileset: TilesetManager, ...args: any[]): TiledContainer | undefined;\n};\n\nexport const LayerBuilder = {\n\tBuild(layer: ITiledLayer, tileset: TilesetManager, zOrder = 0): TiledContainer | undefined {\n\t\t_prepareProperties(layer);\n\n\t\tconst props = layer.parsedProps;\n\n\t\tif (props.ignore || props.ignoreLoad) {\n\t\t\tconsole.log('[TILED] layer ignored:' + layer.name);\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst layerObject: TiledContainer = new TiledContainer();\n\n\t\tlayerObject.tiledId = layer.id;\n\t\tlayerObject.name = layer.name;\n\t\tlayerObject.visible = layer.visible;\n\n\t\tlayerObject.position.set(layer.x, layer.y);\n\t\tlayerObject.alpha = layer.opacity || 1;\n\n\t\tApplyMeta(layer, layerObject);\n\t\treturn layerObject;\n\t},\n};\n","import { ITiledLayer, ITiledImageLayer, ITiledObjectLayer, ITiledSprite, ITiledObject } from '../ITiledMap';\nimport { TiledContainer } from '../objects/TiledContainer';\nimport { LayerBuilder } from './LayerBuilder';\nimport { TilesetManager } from '../tools/TilesetManagers';\nimport { _prepareProperties } from '../tools/Utils';\n\nimport * as SB from '../builders/SpriteBuilder';\nimport * as TB from '../builders/TextBuilder';\nimport * as CB from '../builders/ContainerBuilder';\n\nimport { TiledSprite } from '../objects/TiledSprite';\nimport { TiledObjectType, Objectype } from '../tools/TiledObjectType';\n\nexport const ObjectLayerBuilder = {\n\t__gen: <Record<TiledObjectType, (...args: any[]) => TiledContainer | TiledContainer>>{\n\t\t[TiledObjectType.IMAGE](meta: ITiledObject, tileset: TilesetManager) {\n\t\t\tconst smeta = meta as ITiledSprite;\n\t\t\tconst frame = smeta.image ? tileset.getTileByTile(smeta.image!) : tileset.getTileByGid(smeta.gid);\n\n\t\t\tsmeta.image = frame;\n\n\t\t\tconst sprite = SB.Build(smeta) as TiledSprite;\n\n\t\t\tif (smeta.fromImageLayer && frame!.lazyLoad) {\n\t\t\t\tframe!.texture.once('loaded', () => {\n\t\t\t\t\tsprite.scale.set(1);\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tif (smeta.fromImageLayer) {\n\t\t\t\tsprite.anchor.set(0);\n\t\t\t}\n\n\t\t\treturn (sprite as any) as TiledContainer;\n\t\t},\n\t\t[TiledObjectType.TEXT](meta: ITiledObject, tileset: TilesetManager) {\n\t\t\treturn TB.Build(meta);\n\t\t},\n\t\t[TiledObjectType.DEFAULT](meta: ITiledObject, tileset: TilesetManager) {\n\t\t\treturn CB.Build(meta);\n\t\t},\n\t},\n\n\tBuild(layer: ITiledLayer, tileset: TilesetManager, zOrder = 0): TiledContainer | undefined {\n\t\tconst objLayer = layer as ITiledObjectLayer;\n\t\tconst layerContatiner = LayerBuilder.Build(layer, tileset, zOrder);\n\n\t\tif (!layerContatiner) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tif (layer.type === 'imagelayer') {\n\t\t\tif (!this.__convertLayer(layer as ITiledImageLayer)) {\n\t\t\t\treturn undefined;\n\t\t\t}\n\t\t}\n\n\t\tif (!objLayer.objects || !objLayer.objects.length) {\n\t\t\treturn layerContatiner;\n\t\t}\n\n\t\tconst objects = objLayer.objects;\n\n\t\tlet localZIndex = 0;\n\n\t\tfor (let objMeta of objects) {\n\t\t\t_prepareProperties(objMeta);\n\n\t\t\tconst type = Objectype(objMeta);\n\t\t\tconst method = this.__gen[type] || this.__gen[TiledObjectType.DEFAULT];\n\t\t\tconst obj = method!.call(this, objMeta, tileset);\n\n\t\t\tif (!obj) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\t/*\n\t\t\tif (Config.usePixiDisplay) {\n\t\t\t\t(obj as any).parentGroup = (layerContatiner as any).group;\n\t\t\t\tstage.addChildAt(pixiObject, localZIndex);\n\t\t\t} else {\n\t\t\t\t*/\n\n\t\t\tlayerContatiner.addChildAt(obj, localZIndex);\n\t\t\t//}\n\n\t\t\tlocalZIndex++;\n\t\t}\n\n\t\treturn layerContatiner;\n\t},\n\n\t__convertLayer(imageLayer: ITiledImageLayer) {\n\t\tif (!imageLayer.image) {\n\t\t\treturn false;\n\t\t}\n\n\t\t(imageLayer as any).objects = [\n\t\t\t{\n\t\t\t\timage: {\n\t\t\t\t\timage: imageLayer.image,\n\t\t\t\t},\n\t\t\t\t//imageLayer can't has gid ID\n\n\t\t\t\tgid: -1,\n\t\t\t\tname: imageLayer.name,\n\t\t\t\tx: imageLayer.x,\n\t\t\t\ty: imageLayer.y,\n\n\t\t\t\tfromImageLayer: true,\n\t\t\t\tproperties: imageLayer.properties,\n\t\t\t\tparsedProps: imageLayer.parsedProps,\n\t\t\t} as ITiledSprite,\n\t\t];\n\t\treturn true;\n\t},\n};\n","import { ITiledLayer, ITiledTileLayer, ITiledMap, ITiledTile, ITiledSprite } from '../ITiledMap';\nimport { TilesetManager } from '../tools/TilesetManagers';\nimport { LayerBuilder } from './LayerBuilder';\nimport { TiledMapContainer } from '../objects/TiledMapContainer';\nimport { TiledSprite } from '../objects/TiledSprite';\nimport { Config } from '../Config';\nimport { TiledContainer } from '../index';\nimport { TileAnimator } from '../objects/TiledAnimator';\n\nexport const TiledLayerBuilder = {\n\tBuild(layer: ITiledLayer, set: TilesetManager, zOrder: number = 0, tileMap: TiledMapContainer) {\n\t\tconst tiledLayer = layer as ITiledTileLayer;\n\t\tconst tileMapSource: ITiledMap = tileMap.source! as ITiledMap;\n\t\tconst layerContatiner = LayerBuilder.Build(layer, set, zOrder) as TiledContainer & {animators: Map<string, TileAnimator> };\n\n\t\tif(!layerContatiner) {\n\t\t\treturn undefined;\n\t\t}\n\n\t\tconst data = this.__decodeData(tiledLayer);\n\t\tconst { width, height } = layer;\n\t\tconst { tileheight, tilewidth } = tileMapSource;\n\n\t\tvar xWeights = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tvar yWeights = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tvar mapOrientationShift = {\n\t\t\tx: 0,\n\t\t\ty: 0\n\t\t};\n\t\tswitch (tileMapSource.orientation)\n\t\t{\n\t\t\tcase \"orthogonal\":\n\t\t\t\txWeights.x = tilewidth;\n\t\t\t\tyWeights.y = tileheight;\n\t\t\t\tbreak;\n\t\t\tcase \"isometric\":\n\t\t\t\txWeights.x = tilewidth / 2;\n\t\t\t\txWeights.y = -tilewidth / 2;\n\t\t\t\tyWeights.x = tileheight / 2;\n\t\t\t\tyWeights.y = tileheight / 2;\n\t\t\t\tmapOrientationShift.x = (height - 1) * xWeights.x;\n\t\t\t\tmapOrientationShift.y = -tileheight/2;\n\t\t\t\tbreak;\n\t\t}\n\n\t\tconst genTile = (x: number, y: number, gid: number)=>{\n\t\t\tconst tile = set.getTileByGid(gid);\n\n\t\t\tconst s = new TiledSprite({\n\t\t\t\timage: tile,\n\t\t\t\tfromImageLayer: false,\n\t\t\t\tgid: gid,\n\t\t\t\tanchor: {x: 0, y: 0}\n\t\t\t} as ITiledSprite);\n\t\t\t\n\t\t\ts.x = x * xWeights.x + y * xWeights.y + mapOrientationShift.x;\n\t\t\ts.y = x * yWeights.x + y * yWeights.y + mapOrientationShift.y - (tile!.imageheight === undefined ? 0 : tile!.imageheight - tileheight);\n\t\t\ts.roundPixels = Config.roundPixels;\n\n\t\t\tif(tile && tile.animation) {\n\t\t\t\tconst animators = layerContatiner.animators || new Map();\n\t\t\t\tconst animId = tile.tilesetId + \"_\" + tile.id;\n\n\t\t\t\tlet animator = animators.get(animId);\n\t\t\t\tif(!animator) {\n\t\t\t\t\tanimator = new TileAnimator(tile);\n\t\t\t\t\tanimators.set(animId, animator);\n\t\t\t\t}\n\n\t\t\t\ts.anim = animator;\n\t\t\t\tanimator.anim.play();\n\t\t\t}\n\n\t\t\treturn s;\n\t\t}\n\n\t\tfor (let y = 0; y < height; y++) {\n\t\t\tfor (let x = 0; x < width; x++) {\n\t\t\t\tconst index = x + y * width;\n\t\t\t\tconst gid = data[index];\n\n\t\t\t\t// skip gid 0,\n\t\t\t\tif(!gid) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tlayerContatiner.addChild(genTile(x,y,data[index]));\n\t\t\t}\n\t\t}\n\n\t\treturn layerContatiner;\n\t},\n\n\t__decodeData(layer: ITiledTileLayer): number[] {\n\t\treturn layer.data;\n\t},\n};\n","declare global {\n\tinterface Window {\n\t\tPIXI: any;\n\t}\n}\n\nconst VERSION = '__VERSION__';\n\nimport * as ContainerBuilder from './builders/ContainerBuilder';\nimport * as SpriteBuilder from './builders/SpriteBuilder';\nimport * as TextBuilder from './builders/TextBuilder';\n\nimport { TiledMapAsset, CreateStage } from './tools/TiledObjectParser';\nimport { Config, ITiledProps, LayerBuildersMap } from './Config';\nimport { TiledContainer } from './objects/TiledContainer';\nimport { InjectMixins } from './pixi-utils';\nimport { extensions } from '@pixi/core';\n\n// prevent circular\nObject.assign(LayerBuildersMap, {\n\ttilelayer: TiledLayerBuilder,\n\tobjectgroup: ObjectLayerBuilder,\n\timagelayer: ObjectLayerBuilder,\n\tgroup: undefined,\n});\n\nexport function Inject(pixiPack = window.PIXI, props: Partial<ITiledProps> | undefined = undefined) {\n\tif (!pixiPack) {\n\t\tconsole.warn(\n\t\t\t\"Auto injection works only with globals scoped PIXI, not in modules\\nuse 'Loader.registerPlugin(Parser)' otherwith\",\n\t\t);\n\t\treturn;\n\t}\n\n\tif (props) {\n\t\tObject.assign(Config, props);\n\t}\n\n\tInjectMixins(pixiPack);\n}\n\nimport * as Primitives from './objects/TiledPrimitives';\nimport { MultiSpritesheet } from './tools/TiledMultiSheet';\nimport { ObjectLayerBuilder } from './layers/ObjectsLayerBuilder';\nimport { TiledLayerBuilder } from './layers/TiledLayerBuilder';\nexport { Primitives };\nexport { TiledMapAsset };\nexport { CreateStage };\nexport { Config };\nexport { ContainerBuilder };\nexport { SpriteBuilder };\nexport { TextBuilder };\nexport { TiledContainer };\nexport { MultiSpritesheet };\nexport { VERSION };\nexport { LayerBuildersMap};\nexport { ObjectLayerBuilder};\nexport * from './ITiledMap';"],"names":["Container","Point","AnimatedSprite","Rectangle","Polygon","Ellipse","Graphics","Sprite","Build","Texture","text","Text","Utils.HexStringToHexInt","EventEmitter","ImageResource","BaseTexture","ExtensionType","LoaderParserPriority","utils","Assets","extensions","Matrix","DisplayObject","SB.Build","TB.Build","CB.Build"],"mappings":"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"}